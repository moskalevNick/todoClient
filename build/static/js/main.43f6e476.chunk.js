(this["webpackJsonpnew-todo"]=this["webpackJsonpnew-todo"]||[]).push([[1],{76:function(e,t,n){var c={"./ion-action-sheet.entry.js":[97,5],"./ion-alert.entry.js":[98,6],"./ion-app_8.entry.js":[99,7],"./ion-avatar_3.entry.js":[100,17],"./ion-back-button.entry.js":[101,18],"./ion-backdrop.entry.js":[102,43],"./ion-button_2.entry.js":[103,19],"./ion-card_5.entry.js":[104,20],"./ion-checkbox.entry.js":[105,21],"./ion-chip.entry.js":[106,22],"./ion-col_3.entry.js":[107,44],"./ion-datetime_3.entry.js":[108,10],"./ion-fab_3.entry.js":[109,23],"./ion-img.entry.js":[110,45],"./ion-infinite-scroll_2.entry.js":[111,46],"./ion-input.entry.js":[112,24],"./ion-item-option_3.entry.js":[113,25],"./ion-item_8.entry.js":[114,26],"./ion-loading.entry.js":[115,27],"./ion-menu_3.entry.js":[116,28],"./ion-modal.entry.js":[117,8],"./ion-nav_2.entry.js":[118,14],"./ion-popover.entry.js":[119,9],"./ion-progress-bar.entry.js":[120,29],"./ion-radio_2.entry.js":[121,30],"./ion-range.entry.js":[122,31],"./ion-refresher_2.entry.js":[123,11],"./ion-reorder_2.entry.js":[124,16],"./ion-ripple-effect.entry.js":[125,47],"./ion-route_4.entry.js":[126,32],"./ion-searchbar.entry.js":[127,33],"./ion-segment_2.entry.js":[128,34],"./ion-select_3.entry.js":[129,35],"./ion-slide_2.entry.js":[130,48],"./ion-spinner.entry.js":[131,13],"./ion-split-pane.entry.js":[132,49],"./ion-tab-bar_2.entry.js":[133,36],"./ion-tab_2.entry.js":[134,15],"./ion-text.entry.js":[135,37],"./ion-textarea.entry.js":[136,38],"./ion-toast.entry.js":[137,39],"./ion-toggle.entry.js":[138,12],"./ion-virtual-scroll.entry.js":[139,50]};function a(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(c)},a.id=76,e.exports=a},78:function(e,t,n){var c={"./ion-icon.entry.js":[140,57]};function a(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(c)},a.id=78,e.exports=a},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(31),r=n.n(a),o=n(27),s=n(65),i=n(34),l=n(29),d="CHANGE_THEME",j="SET_TODOS",u="SET_WEATHER",h={themeIsDay:!0,todos:[],weather:{}};var b=n(32),p=n(16),O=n(4),f=n.n(O),m=n(12),x=n(11),y=n(7),v="https://infinite-ridge-40503.herokuapp.com";var g=n(41),k=n(47),w=n(48),N=n.n(w),C=(n(81),n(1)),_=function(e){var t=e.element,n=e.changeTodo,c=e.triggerModalDelete,a=N()({label:!0,checkedTodo:t.checked,importantTodo:t.important});return t?Object(C.jsxs)("div",{className:"todo",children:[Object(C.jsx)(y.b,{slot:"start",color:"danger",checked:t.checked,onIonChange:n.bind(null,t._id,"checked")}),Object(C.jsx)("div",{className:a,onClick:n.bind(null,t._id,"important"),children:t.todo}),Object(C.jsx)(y.a,{className:"deleteButton",onClick:c.bind(null,t),children:Object(C.jsx)(k.a,{className:"icon",icon:g.c})})]}):null},M=(n(83),function(e){var t=e.todos,n=e.changeTodo,c=e.triggerModalDelete;return Object(C.jsxs)("div",{className:"list",children:[0===t.length&&Object(C.jsxs)("p",{className:"noTodos",children:["there are no todos yet ",Object(C.jsx)("br",{}),"(or they waiting from server)"]}),t.map((function(e){return Object(C.jsx)(_,{triggerModalDelete:c,changeTodo:n,element:e},e._id)}))]})}),D=(n(84),function(e){var t=e.checkedTodo,n=N()({meter:!0,redMeter:t/100<.33,yellowmeter:t/100>.33&&t/100<.66,greenMeter:t/100>.66});return Object(C.jsx)("div",{className:"meter-container",children:Object(C.jsx)(y.g,{value:t/100,className:n})})}),T=(n(85),function(e){var t=e.addTodo,n=e.inputValue,c=e.setInputValue,a=e.isModalOpen,r=e.setModalOpen;return Object(C.jsx)(y.f,{isOpen:a,cssClass:"modal",children:Object(C.jsxs)("div",{className:"openedModal",children:[Object(C.jsx)(y.a,{color:"danger",className:"close-button",onClick:r.bind(null,!1),children:"X"}),Object(C.jsxs)(y.d,{children:[Object(C.jsx)(y.e,{position:"floating",children:"Write your new todo here"}),Object(C.jsx)(y.c,{value:n,onIonChange:function(e){c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t()}})]}),Object(C.jsx)(y.a,{color:"success",className:n.trim()?"buttonAddEmptyModal":"buttonAddFullModal",onClick:t,disabled:!n.trim(),children:"Add todo"})]})})}),E=(n(86),function(e){var t=e.isModalDeleteOpen,n=e.removeTodo,c=e.acceptTodo,a=e.setModalDeleteOpen,r=e.removeAllChecked;return Object(C.jsx)(y.f,{isOpen:t,children:Object(C.jsxs)("div",{className:"openedModal",children:[Object(C.jsxs)("div",{className:"titleModal",children:["Are you sure, you wanna delete ",c._id?'"'.concat(c.todo,'"'):"all checked todos"," ?"]}),Object(C.jsxs)("div",{className:"buttonsDelete",children:[Object(C.jsx)(y.a,{color:"success",onClick:c._id?n.bind(null,c._id):r.bind(null,c),children:"sure"}),Object(C.jsx)(y.a,{color:"danger",onClick:a.bind(null,!1),children:"cancel"})]})]})})}),S=(n(87),function(e){var t=e.type,n=void 0===t?"main":t,a=Object(c.useState)(0),r=Object(x.a)(a,2),s=r[0],i=r[1],l=Object(c.useState)(!1),d=Object(x.a)(l,2),u=d[0],h=d[1],b=Object(c.useState)(0),p=Object(x.a)(b,2),O=p[0],g=p[1],k=Object(c.useState)(!1),w=Object(x.a)(k,2),N=w[0],_=w[1],S=Object(c.useState)({}),A=Object(x.a)(S,2),I=A[0],V=A[1],L=Object(c.useState)(""),P=Object(x.a)(L,2),B=P[0],F=P[1],U=Object(o.b)(),J=Object(o.c)((function(e){return e})).todos;Object(c.useEffect)((function(){var e=J.filter((function(e){return!0===e.checked}));g(e.length/J.length*100),i(J.length)}),[J]),Object(c.useEffect)((function(){U(function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v);case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t({type:j,payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[U]);var W=Object(c.useMemo)((function(){return"important"===n?J.filter((function(e){return!0===e.important})):"checked"===n?J.filter((function(e){return!0===e.checked})):J}),[J,n]),H=function(e){_((function(e){return!e})),V(e)},Y=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(function(){var e=Object(m.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,t({type:j,payload:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)("div",{className:"amount",children:Object(C.jsxs)("div",{className:"content",children:[Object(C.jsxs)("h1",{className:"title",children:["you have ",s," goals"]}),Object(C.jsx)(y.a,{color:"success",onClick:function(){h((function(e){return!e}))},className:"plus",children:"+"})]})}),Object(C.jsx)(M,{todos:W,changeTodo:function(e,t){U(function(e,t){return function(){var n=Object(m.a)(f.a.mark((function n(c){var a,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(v,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:t})});case 2:return a=n.sent,n.next=5,a.json();case 5:r=n.sent,c({type:j,payload:r});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,t))},triggerModalDelete:H}),Object(C.jsx)(D,{checkedTodo:O}),Object(C.jsx)(E,{setModalDeleteOpen:_,isModalDeleteOpen:N,triggerModalDelete:H,acceptTodo:I,removeTodo:function(e){U(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return c=t.sent,t.next=5,c.json();case 5:a=t.sent,n({type:j,payload:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),_(!1)},removeAllChecked:Y}),Object(C.jsx)(T,{setInputValue:F,setModalOpen:h,isModalOpen:u,inputValue:B,addTodo:function(){var e;U((e={todo:B,important:!1,checked:!1},function(){var t=Object(m.a)(f.a.mark((function t(n){var c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(v,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});case 2:return c=t.sent,t.next=5,c.json();case 5:a=t.sent,n({type:j,payload:a});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),h(!1),F("")}}),Object(C.jsx)("div",{className:"stat",children:Object(C.jsx)(y.a,{color:"danger",onClick:H,disabled:!O,children:"Delete all checked"})})]})}),A=(n(88),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})).themeIsDay;Object(c.useEffect)((function(){document.body.setAttribute("color-theme",t?"light":"dark")}),[t]);return Object(C.jsx)("div",{children:Object(C.jsxs)("nav",{className:"navBar",children:[Object(C.jsxs)("div",{className:"links",children:[Object(C.jsx)(b.b,{to:"/",className:"navBar_item",exact:!0,activeClassName:"underline",children:"All"}),Object(C.jsx)(b.b,{to:"/important",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Important"}),Object(C.jsx)(b.b,{to:"/checked",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Checked"}),Object(C.jsx)(b.b,{to:"/weather",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Weather"})]}),Object(C.jsx)(y.a,{onClick:function(){e({type:d})},className:"buttonChangeTheme",children:Object(C.jsx)(k.a,{className:"icon",icon:t?g.b:g.a,size:"2x"})})]})})}),I=n(28),V=(n(90),function(e){var t=e.card;return t?Object(C.jsxs)("div",{className:"cardItem",children:[Object(C.jsxs)("div",{children:[new Date(t.dt_txt).toLocaleString("en",{month:"short",day:"numeric"}),", ",new Date(t.dt_txt).toLocaleString("en",{weekday:"short"})]}),Object(C.jsx)("img",{src:"https://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"weather status icon",className:"weather-icon"}),Object(C.jsx)("div",{children:t.weather[0].description}),Object(C.jsxs)("div",{children:[Math.round(t.main.temp),"\xb0 C"]}),Object(C.jsxs)("div",{children:["feels like: ",Math.round(t.main.feels_like),"\xb0 C"]}),Object(C.jsxs)("div",{children:["humidity: ",t.main.humidity,"%"]}),Object(C.jsxs)("div",{children:["wind speed: ",Math.round(t.wind.speed)," m/s"]})]}):Object(C.jsx)("div",{})}),L=(n(91),n(92),function(e){var t=e.isModalChangeCityOpen,n=e.setModalChangeCityOpen,c=e.setInputValue,a=e.inputValue,r=e.changeCity,o=e.isCityValid;return Object(C.jsx)(y.f,{isOpen:t,cssClass:"modal",children:Object(C.jsxs)("div",{className:"openedModal",children:[Object(C.jsx)(y.a,{color:"danger",className:"close-button",onClick:n.bind(null,!1),children:"X"}),Object(C.jsxs)(y.d,{children:[Object(C.jsx)(y.e,{position:"floating",children:"Write your city here"}),Object(C.jsx)(y.c,{value:a,onIonChange:function(e){c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&r()}})]}),!o&&Object(C.jsx)("div",{className:"invalidCity",children:"invalid city"}),Object(C.jsx)("div",{className:"containerLink",children:Object(C.jsx)("a",{className:"exampleLink",target:"_blank",rel:"noreferrer",href:"https://openweathermap.org/weathermap?basemap=map&cities=true&layer=temperature&lat=53.9173&lon=27.5290&zoom=10",children:"example"})}),Object(C.jsx)(y.a,{color:"success",className:a.trim()?"buttonAddEmptyModal":"buttonAddFullModal",onClick:r,disabled:!a.trim(),children:"Change"})]})})}),P=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e})).weather,n=Object(c.useState)(!1),a=Object(x.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),l=Object(x.a)(i,2),d=l[0],j=l[1],h=Object(c.useState)(""),b=Object(x.a)(h,2),p=b[0],O=b[1],v=Object(c.useState)("minsk"),g=Object(x.a)(v,2),k=g[0],w=g[1],N=Object(c.useState)({today:[],tomorrow:[],afterTomorrow:[]}),_=Object(x.a)(N,2),M=_[0],D=_[1];Object(c.useEffect)((function(){e(function(e){var t="https://api.openweathermap.org/data/2.5/forecast?q="+e+"&lang=en&units=metric&APPID=f582197db8f90d30360d03d1b234f471";return function(){var e=Object(m.a)(f.a.mark((function e(n){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.json();case 6:(a=e.sent).cod,n({type:u,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}(k))}),[e,k]),Object(c.useEffect)((function(){!function(e){var t=new Date,n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate()),c="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()+1<10?"0".concat(t.getDate()+1):t.getDate()+1),a="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()+2<10?"0".concat(t.getDate()+2):t.getDate()+2),r=[],o=[],s=[];e&&e.list&&e.list.forEach((function(e){(e.dt_txt.includes("9:00:00")||e.dt_txt.includes("15:00:00")||e.dt_txt.includes("21:00:00"))&&(e.dt_txt.includes(n)&&r.push(e),e.dt_txt.includes(c)&&o.push(e),e.dt_txt.includes(a)&&s.push(e))})),1===r.length&&(r.unshift(null),r.unshift(null));2===r.length&&r.unshift(null);D({today:r,tomorrow:o,afterTomorrow:s})}(t),"200"===t.cod?(s(!1),j(!0)):j(!1)}),[t]);return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"header",children:[Object(C.jsxs)("h1",{children:["weather for 3 days in ",k," city"]}),Object(C.jsx)(y.a,{onClick:function(){s((function(e){return!e}))},color:"primary",className:"buttonChange",children:"change city"})]}),Object(C.jsxs)("div",{className:"weatherContainer",children:[Object(C.jsx)("div",{className:"morning",children:"morning"}),Object(C.jsx)("div",{className:"afternoon",children:"afternoon"}),Object(C.jsx)("div",{className:"evening",children:"evening"}),Object(C.jsx)("div",{className:"today",children:"today"}),Object(C.jsx)("div",{className:"tomorrow",children:"tomorrow"}),Object(C.jsx)("div",{className:"afterTomorrow",children:"after tomorrow"}),Object(C.jsx)("div",{className:"card",children:[].concat(Object(I.a)(M.today),Object(I.a)(M.tomorrow),Object(I.a)(M.afterTomorrow)).map((function(e,t){return Object(C.jsx)(V,{card:e},t)}))})]}),Object(C.jsx)(L,{setModalChangeCityOpen:s,isModalChangeCityOpen:r,setInputValue:O,inputValue:p,changeCity:function(){w(p),O("")},isCityValid:d})]})},B=function(){return Object(C.jsx)(b.a,{children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(A,{}),Object(C.jsxs)(p.d,{children:[Object(C.jsx)(p.b,{path:"/",exact:!0,children:Object(C.jsx)(S,{type:"main"})}),Object(C.jsx)(p.b,{path:"/important",children:Object(C.jsx)(S,{type:"important"})}),Object(C.jsx)(p.b,{path:"/checked",children:Object(C.jsx)(S,{type:"checked"})}),Object(C.jsx)(p.b,{path:"/weather",children:Object(C.jsx)(P,{})}),Object(C.jsx)(p.a,{to:"/"})]}),Object(C.jsx)("footer",{className:"autor",children:Object(C.jsx)("a",{className:"autorLink",href:"https://www.linkedin.com/in/nickmoskalev/",target:"_blank",rel:"noreferrer",children:"\u24d2MoskalevNick"})})]})})},F=(n(93),n(94),Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;return t.type===d?e.themeIsDay?Object(l.a)(Object(l.a)({},e),{},{themeIsDay:!1}):Object(l.a)(Object(l.a)({},e),{},{themeIsDay:!0}):t.type===j?Object(l.a)(Object(l.a)({},e),{},{todos:t.payload}):t.type===u?Object(l.a)(Object(l.a)({},e),{},{weather:t.payload}):e}),Object(i.c)(Object(i.a)(s.a))));r.a.render(Object(C.jsx)(o.a,{store:F,children:Object(C.jsx)(B,{})}),document.getElementById("root"))}},[[95,3,4]]]);
//# sourceMappingURL=main.43f6e476.chunk.js.map