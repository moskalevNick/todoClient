(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{104:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var a=n(33),c=n.n(a),r=n(15),o=n(71),s=n(50),i=n(22),l="CHANGE_THEME",u="SET_TODOS",d="SET_WEATHER",j="SET_AUTH",h="SET_USER",p="SET_LOADING",b="SHOW_TOAST",f="TEXT_EXCEPTION",O={themeIsDay:!0,todos:[],weather:{},user:{},isAuth:!1,isLoading:!1,showToast:!1,messageException:""};var v=n(12),m=n(0),g=n(31),x=n(14),y=n(4),k=n(3),w=n.n(k),N=n(6),M=n(10),C=n(11),_=n(43),T=n.n(_),D=T.a.create({withCredentials:!0,baseURL:"https://amazing-todo-server.herokuapp.com"});D.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e})),D.interceptors.response.use((function(e){return e}),function(){var e=Object(N.a)(w.a.mark((function e(t){var n,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,401!==(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)||!t.config||t.config._isRetry){e.next=14;break}return a._isRetry=!0,e.prev=3,e.next=6,T.a.get("https://amazing-todo-server.herokuapp.com/api/refresh",{withCredentials:!0});case 6:return c=e.sent,localStorage.setItem("token",c.data.accessToken),e.abrupt("return",D.request(a));case 11:e.prev=11,e.t0=e.catch(3),console.log("\u041d\u0415 \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u041e\u0412\u0410\u041d");case 14:throw t;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}());var E=D,I=function(){function e(){Object(M.a)(this,e)}return Object(C.a)(e,null,[{key:"login",value:function(){var e=Object(N.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post("/api/login",{name:t,password:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(N.a)(w.a.mark((function e(t,n,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post("/api/registration",{email:t,password:n,name:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post("/api/logout"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTodos",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.get("/api/todos"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setCity",value:function(){var e=Object(N.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",E.post("/api/city/".concat(t),{name:n}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),S=function(){function e(){Object(M.a)(this,e)}return Object(C.a)(e,null,[{key:"changeTodo",value:function(){var e=Object(N.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.post("/api/todos/".concat(t),{type:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeTodo",value:function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.delete("/api/todos/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTodo",value:function(){var e=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.put("/api/todos",{title:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAllChecked",value:function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.delete("/api/todos"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),A=function(e){return{type:p,payload:e}},F=function(e){return{type:b,payload:e}},L=function(e){return{type:f,payload:e}},Y=function(e){return{type:j,payload:e}},V=function(e){return{type:h,payload:e}},B=function(e,t){return function(){var n=Object(N.a)(w.a.mark((function n(a){var c;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.setCity(e,t);case 2:c=n.sent,a(V(c.data));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},P=function(){return function(){var e=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getTodos();case 2:n=e.sent,t({type:u,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=n(34),z=n(36),R=n(49),H=n.n(R),W=(n(104),n(1)),X=function(e){var t=e.element,n=e.changeTodo,a=e.triggerModalDelete,c=H()({label:!0,checkedTodo:t.checked,importantTodo:t.important});return t?Object(W.jsxs)("div",{className:"todo",children:[Object(W.jsx)(y.b,{slot:"start",color:"danger",checked:t.checked,onIonChange:n.bind(null,t._id,"checked")}),Object(W.jsx)("div",{className:c,onClick:n.bind(null,t._id,"important"),children:t.title}),Object(W.jsx)(y.a,{className:"deleteButton",onClick:a.bind(null,t),children:Object(W.jsx)(z.a,{className:"icon",icon:U.e})})]}):null},q=(n(106),function(e){var t=e.todos,n=e.changeTodo,a=e.triggerModalDelete;return t?Object(W.jsxs)("div",{className:"list",children:[0===t.length&&Object(W.jsxs)("p",{className:"noTodos",children:["there are no todos yet ",Object(W.jsx)("br",{}),"(or they waiting from server)"]}),t.map((function(e){return Object(W.jsx)(X,{triggerModalDelete:a,changeTodo:n,element:e},e._id)}))]}):null}),G=(n(107),function(e){var t=e.checkedTodo,n=H()({meter:!0,redMeter:t/100<.33,yellowmeter:t/100>.33&&t/100<.66,greenMeter:t/100>.66});return Object(W.jsx)("div",{className:"meter-container",children:Object(W.jsx)(y.h,{value:t/100,className:n})})}),J=(n(108),function(e){var t=e.addTodo,n=e.inputValue,a=e.setInputValue,c=e.isModalOpen,r=e.setModalOpen;return Object(W.jsx)(y.g,{isOpen:c,cssClass:"modal",children:Object(W.jsxs)("div",{className:"openedModal",children:[Object(W.jsx)(y.a,{color:"danger",className:"close-button",onClick:r.bind(null,!1),children:"X"}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{position:"floating",children:"Write your new todo here"}),Object(W.jsx)(y.d,{value:n,onIonChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t()}})]}),Object(W.jsx)(y.a,{color:"success",className:n.trim()?"buttonAddEmptyModal":"buttonAddFullModal",onClick:t,disabled:!n.trim(),children:"Add todo"})]})})}),K=(n(109),function(e){var t=e.isModalDeleteOpen,n=e.removeTodo,a=e.acceptTodo,c=e.setModalDeleteOpen,r=e.removeAllChecked;return Object(W.jsx)(y.g,{isOpen:t,children:Object(W.jsxs)("div",{className:"openedModal",children:[Object(W.jsxs)("div",{className:"titleModal",children:["Are you sure, you wanna delete ",a._id?'"'.concat(a.title,'"'):"all checked todos"," ?"]}),Object(W.jsxs)("div",{className:"buttonsDelete",children:[Object(W.jsx)(y.a,{color:"success",onClick:a._id?n.bind(null,a._id):r.bind(null,a),children:"sure"}),Object(W.jsx)(y.a,{color:"danger",onClick:c.bind(null,!1),children:"cancel"})]})]})})}),Q=(n(110),function(e){var t=e.type,n=void 0===t?"main":t,a=Object(m.useState)(0),c=Object(v.a)(a,2),o=c[0],s=c[1],i=Object(m.useState)(!1),l=Object(v.a)(i,2),u=l[0],d=l[1],j=Object(m.useState)(0),h=Object(v.a)(j,2),p=h[0],b=h[1],f=Object(m.useState)(!1),O=Object(v.a)(f,2),g=O[0],x=O[1],k=Object(m.useState)({}),M=Object(v.a)(k,2),C=M[0],_=M[1],T=Object(m.useState)(""),D=Object(v.a)(T,2),E=D[0],I=D[1],A=Object(r.b)(),F=Object(r.c)((function(e){return e})).todos;Object(m.useEffect)((function(){if(F.data){var e=F.data.filter((function(e){return!0===e.checked}));b(e.length/F.data.length*100),s(F.data.length)}}),[F]),Object(m.useEffect)((function(){A(P())}),[A]);var L=Object(m.useMemo)((function(){return F.data?"important"===n?F.data.filter((function(e){return!0===e.important})):"checked"===n?F.data.filter((function(e){return!0===e.checked})):F.data:null}),[F,n]),Y=function(e){x((function(e){return!e})),_(e)},V=function(){var e=Object(N.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(function(){var e=Object(N.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.removeAllChecked();case 3:t(P()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),x(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsxs)("div",{className:"box",children:[Object(W.jsx)("div",{className:"amount",children:Object(W.jsxs)("div",{className:"content",children:[Object(W.jsxs)("h1",{className:"title",children:["you have ",o," goals"]}),Object(W.jsx)(y.a,{color:"success",onClick:function(){d((function(e){return!e}))},className:"plus",children:"+"})]})}),Object(W.jsx)(q,{todos:L,changeTodo:function(e,t){A(function(e,t){return function(){var n=Object(N.a)(w.a.mark((function n(a){var c,r;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.changeTodo(e,t);case 3:a(P()),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(null===(c=n.t0.response)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(e,t))},triggerModalDelete:Y}),Object(W.jsx)(G,{checkedTodo:p}),Object(W.jsx)(K,{setModalDeleteOpen:x,isModalDeleteOpen:g,triggerModalDelete:Y,acceptTodo:C,removeTodo:function(e){A(function(e){return function(){var t=Object(N.a)(w.a.mark((function t(n){var a,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.removeTodo(e);case 3:n(P()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(null===(a=t.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(e)),x(!1)},removeAllChecked:V}),Object(W.jsx)(J,{setInputValue:I,setModalOpen:d,isModalOpen:u,inputValue:E,addTodo:function(){var e;A((e=E,function(){var t=Object(N.a)(w.a.mark((function t(n){var a,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.addTodo(e);case 3:n(P()),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(null===(a=t.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())),d(!1),I("")}}),Object(W.jsx)("div",{className:"stat",children:Object(W.jsx)(y.a,{color:"danger",onClick:Y,disabled:!p,children:"Delete all checked"})})]})}),Z=(n(111),function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})),n=t.themeIsDay,a=t.user;Object(m.useEffect)((function(){document.body.setAttribute("color-theme",n?"light":"dark")}),[n]);return Object(W.jsx)("div",{children:Object(W.jsxs)("nav",{className:"navBar",children:[Object(W.jsxs)("div",{className:"links",children:[Object(W.jsx)(g.b,{to:"/",className:"navBar_item",exact:!0,activeClassName:"underline",children:"All"}),Object(W.jsx)(g.b,{to:"/important",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Important"}),Object(W.jsx)(g.b,{to:"/checked",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Checked"}),Object(W.jsx)(g.b,{to:"/weather",className:"navBar_item",exact:!0,activeClassName:"underline",children:"Weather"})]}),Object(W.jsxs)("div",{className:"userName",children:[a.name,Object(W.jsx)(z.a,{className:"iconMail",hidden:a.isActivated,icon:U.a,title:"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(W.jsxs)("div",{className:"containerButtonChangeTheme",children:[Object(W.jsx)(g.b,{to:"/auth",className:"buttonAuth",onClick:function(){return e(function(){var e=Object(N.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.logout();case 3:localStorage.removeItem("token"),t(Y(!1)),t(V({})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:Object(W.jsx)(z.a,{className:"icon",icon:U.c,size:"2x"})}),Object(W.jsx)(y.a,{onClick:function(){e({type:l,payload:!n})},className:"buttonChangeTheme",children:Object(W.jsx)(z.a,{className:"icon",icon:n?U.d:U.b,size:"2x"})})]})]})})}),$=n(37),ee=(n(113),function(e){var t=e.card;return t?Object(W.jsxs)("div",{className:"cardItem",children:[Object(W.jsxs)("div",{children:[new Date(t.dt_txt).toLocaleString("en",{month:"short",day:"numeric"}),", ",new Date(t.dt_txt).toLocaleString("en",{weekday:"short"})]}),Object(W.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:"weather status icon",className:"weather-icon"}),Object(W.jsx)("div",{children:t.weather[0].description}),Object(W.jsxs)("div",{children:[Math.round(t.main.temp),"\xb0 C"]}),Object(W.jsxs)("div",{children:["feels like: ",Math.round(t.main.feels_like),"\xb0 C"]}),Object(W.jsxs)("div",{children:["humidity: ",t.main.humidity,"%"]}),Object(W.jsxs)("div",{children:["wind speed: ",Math.round(t.wind.speed)," m/s"]})]}):Object(W.jsx)("div",{})}),te=(n(114),n(115),function(e){var t=e.isModalChangeCityOpen,n=e.setModalChangeCityOpen,a=e.setInputValue,c=e.inputValue,r=e.changeCity,o=e.isCityValid;return Object(W.jsx)(y.g,{isOpen:t,cssClass:"modal",children:Object(W.jsxs)("div",{className:"openedModal",children:[Object(W.jsx)(y.a,{color:"danger",className:"close-button",onClick:n.bind(null,!1),children:"X"}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{position:"floating",children:"Write your city here"}),Object(W.jsx)(y.d,{value:c,onIonChange:function(e){a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&r()}})]}),!o&&Object(W.jsx)("div",{className:"invalidCity",children:"invalid city"}),Object(W.jsx)("div",{className:"containerLink",children:Object(W.jsx)("a",{className:"exampleLink",target:"_blank",rel:"noreferrer",href:"http://openweathermap.org/weathermap?basemap=map&cities=true&layer=temperature&lat=53.9173&lon=27.5290&zoom=10",children:"example"})}),Object(W.jsx)(y.a,{color:"success",className:c.trim()?"buttonAddEmptyModal":"buttonAddFullModal",onClick:r,disabled:!c.trim(),children:"Change"})]})})}),ne=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})),n=t.weather,a=t.user,c=Object(m.useState)(!1),o=Object(v.a)(c,2),s=o[0],i=o[1],l=Object(m.useState)(!0),u=Object(v.a)(l,2),j=u[0],h=u[1],p=Object(m.useState)(""),b=Object(v.a)(p,2),f=b[0],O=b[1],g=Object(m.useState)({today:[],tomorrow:[],afterTomorrow:[]}),x=Object(v.a)(g,2),k=x[0],M=x[1];Object(m.useEffect)((function(){var t;e((t=a.city,function(){var e=Object(N.a)(w.a.mark((function e(n){var a,c,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://api.openweathermap.org/data/2.5/forecast?q="+t+"&lang=en&units=metric&APPID=f582197db8f90d30360d03d1b234f471",e.prev=1,e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,n(B(t)),"404"===r.cod&&console.log("error 404"),n({type:d,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,a.city]),Object(m.useEffect)((function(){!function(e){var t=new Date,n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate()),a="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()+1<10?"0".concat(t.getDate()+1):t.getDate()+1),c="".concat(t.getFullYear(),"-").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()+2<10?"0".concat(t.getDate()+2):t.getDate()+2);30===new Date(2021,t.getMonth()+1,0).getDate()&&(29===t.getDate()?c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"):30===t.getDate()&&(a="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"),c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","02")));29===new Date(2021,t.getMonth()+1,0).getDate()&&(28===t.getDate()?c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"):29===t.getDate()&&(a="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"),c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","02")));28===new Date(2021,t.getMonth()+1,0).getDate()&&(27===t.getDate()?c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"):28===t.getDate()&&(a="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","01"),c="".concat(t.getFullYear(),"-").concat(t.getMonth()+2<10?"0".concat(t.getMonth()+2):t.getMonth()+2,"-","02")));var r=[],o=[],s=[];e&&e.list&&e.list.forEach((function(e){(e.dt_txt.includes("9:00:00")||e.dt_txt.includes("15:00:00")||e.dt_txt.includes("21:00:00"))&&(e.dt_txt.includes(n)&&r.push(e),e.dt_txt.includes(a)&&o.push(e),e.dt_txt.includes(c)&&s.push(e))})),1===r.length&&(r.unshift(null),r.unshift(null));2===r.length&&r.unshift(null);M({today:r,tomorrow:o,afterTomorrow:s})}(n),"200"===n.cod?(i(!1),h(!0)):h(!1)}),[n]);return Object(W.jsxs)("div",{children:[Object(W.jsxs)("div",{className:"header",children:[Object(W.jsxs)("h1",{children:["weather for 3 days in ",a.city," city"]}),Object(W.jsx)(y.a,{onClick:function(){i((function(e){return!e}))},color:"primary",className:"buttonChange",children:"change city"})]}),Object(W.jsxs)("div",{className:"weatherContainer",children:[Object(W.jsx)("div",{className:"morning",children:"morning"}),Object(W.jsx)("div",{className:"afternoon",children:"afternoon"}),Object(W.jsx)("div",{className:"evening",children:"evening"}),Object(W.jsx)("div",{className:"today",children:"today"}),Object(W.jsx)("div",{className:"tomorrow",children:"tomorrow"}),Object(W.jsx)("div",{className:"afterTomorrow",children:"after tomorrow"}),Object(W.jsx)("div",{className:"card",children:[].concat(Object($.a)(k.today),Object($.a)(k.tomorrow),Object($.a)(k.afterTomorrow)).map((function(e,t){return Object(W.jsx)(ee,{card:e},t)}))})]}),Object(W.jsx)(te,{setModalChangeCityOpen:i,isModalChangeCityOpen:s,setInputValue:O,inputValue:f,changeCity:function(){e(B(f,a.name)),O("")},isCityValid:j})]})},ae=(n(116),function(){var e=Object(m.useState)(""),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(m.useState)(""),o=Object(v.a)(c,2),s=o[0],i=o[1],l=Object(r.b)(),u=Object(r.c)((function(e){return e})),d=u.showToast,j=u.messageException;return Object(W.jsxs)("div",{className:"loginContainer",children:[Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{className:"ionItem",position:"floating",children:"Username"}),Object(W.jsx)(y.d,{onIonChange:function(e){return a(e.target.value)},value:n,type:"text"})]}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{position:"floating",children:"Password"}),Object(W.jsx)(y.d,{type:"password",onIonChange:function(e){return i(e.target.value)},value:s})]}),Object(W.jsx)(y.a,{className:"ion-margin-top",type:"submit",expand:"block",onClick:function(){return l(function(e,t){return function(){var n=Object(N.a)(w.a.mark((function n(a){var c,r,o,s,i;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(F(!1)),n.next=4,I.login(e,t);case 4:c=n.sent,localStorage.setItem("token",c.data.accessToken),a(Y(!0)),a(V(c.data.user)),a(B(c.data.user.city)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),a(L(null===(r=n.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)),a(F(!0)),console.log(null===(s=n.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))},children:"Login"}),Object(W.jsx)("div",{className:"noAcc",children:Object(W.jsx)(y.i,{color:"secondary",href:"/registration",children:"I don't have an account"})}),Object(W.jsx)(y.j,{isOpen:d,message:j,duration:3e3})]})}),ce=(n(117),function(){var e=Object(m.useState)(""),t=Object(v.a)(e,2),n=t[0],a=t[1],c=Object(m.useState)(""),o=Object(v.a)(c,2),s=o[0],i=o[1],l=Object(m.useState)(""),u=Object(v.a)(l,2),d=u[0],j=u[1],h=Object(m.useState)(""),p=Object(v.a)(h,2),b=p[0],f=p[1],O=Object(y.l)(),g=Object(v.a)(O,2),x=g[0],k=g[1],M=Object(r.b)(),C=Object(r.c)((function(e){return e})),_=C.showToast,T=C.messageException;return Object(W.jsxs)("div",{className:"registrContainer",children:[Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{className:"ionItem",position:"floating",children:"Email"}),Object(W.jsx)(y.d,{value:n,onIonChange:function(e){a(e.target.value)}})]}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{className:"ionItem",position:"floating",children:"User name"}),Object(W.jsx)(y.d,{value:b,onIonChange:function(e){f(e.target.value)}})]}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{position:"floating",children:"Password"}),Object(W.jsx)(y.d,{type:"password",value:s,onIonChange:function(e){i(e.target.value)}})]}),Object(W.jsxs)(y.e,{children:[Object(W.jsx)(y.f,{position:"floating",children:"Replace password"}),Object(W.jsx)(y.d,{type:"password",value:d,onIonChange:function(e){j(e.target.value)}})]}),Object(W.jsx)(y.a,{onClick:function(){var e,t,c;s===d?(M((e=n,t=s,c=b,function(){var n=Object(N.a)(w.a.mark((function n(a){var r,o,s;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(F(!1)),n.next=4,I.registration(e,t,c);case 4:r=n.sent,localStorage.setItem("token",r.data.accessToken),a(Y(!0)),a(V(r.data.user)),a(B(r.data.user.city)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),a(L(n.t0.response.data.errors[0].value+" is "+n.t0.response.data.errors[0].msg+" of "+n.t0.response.data.errors[0].param)),a(F(!0)),console.log(null===(o=n.t0.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}())),a(""),i(""),j(""),f(""),k()):(x("passwords mismatch",3e3),i(""),j(""))},expand:"block",children:"Registration"}),Object(W.jsx)("div",{className:"noAcc",children:Object(W.jsx)(y.i,{color:"secondary",href:"/auth",children:"I have an account"})}),Object(W.jsx)(y.j,{isOpen:_,message:T,duration:3e3})]})}),re=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e})),n=t.isAuth,a=t.isLoading,c=Object(y.k)(),o=Object(v.a)(c,1)[0];return Object(m.useEffect)((function(){localStorage.getItem("token")&&e(function(){var e=Object(N.a)(w.a.mark((function e(t){var n,a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A(!0)),e.prev=1,e.next=4,T.a.get("https://amazing-todo-server.herokuapp.com/api/refresh",{withCredentials:!0});case 4:n=e.sent,localStorage.setItem("token",n.data.accessToken),t(Y(!0)),t(V(n.data.user)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 13:return e.prev=13,t(A(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),e(P())}),[e]),a?Object(W.jsx)(y.c,{children:o("await",1e3,"bubbles")}):n?Object(W.jsx)("div",{children:Object(W.jsx)(g.a,{children:Object(W.jsxs)("div",{className:"container",children:[Object(W.jsx)(Z,{}),Object(W.jsxs)(x.d,{children:[Object(W.jsx)(x.b,{path:"/",exact:!0,children:Object(W.jsx)(Q,{type:"main"})}),Object(W.jsx)(x.b,{path:"/important",children:Object(W.jsx)(Q,{type:"important"})}),Object(W.jsx)(x.b,{path:"/checked",children:Object(W.jsx)(Q,{type:"checked"})}),Object(W.jsx)(x.b,{path:"/weather",children:Object(W.jsx)(ne,{})}),Object(W.jsx)(x.a,{to:"/"})]}),Object(W.jsx)("footer",{className:"autor",children:Object(W.jsx)("a",{className:"autorLink",href:"http://www.linkedin.com/in/nickmoskalev/",target:"_blank",rel:"noreferrer",children:"\u24d2MoskalevNick"})})]})})}):Object(W.jsx)("div",{children:Object(W.jsx)(g.a,{children:Object(W.jsx)("div",{className:"container",children:Object(W.jsxs)(x.d,{children:[Object(W.jsx)(x.b,{path:"/auth",children:Object(W.jsx)(ae,{})}),Object(W.jsx)(x.b,{path:"/registration",children:Object(W.jsx)(ce,{})}),Object(W.jsx)(x.a,{to:"/auth"})]})})})})},oe=(n(118),n(119),Object(s.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type===l?Object(i.a)(Object(i.a)({},e),{},{themeIsDay:t.payload}):t.type===u?Object(i.a)(Object(i.a)({},e),{},{todos:t.payload}):t.type===d?Object(i.a)(Object(i.a)({},e),{},{weather:t.payload}):t.type===j?Object(i.a)(Object(i.a)({},e),{},{isAuth:t.payload}):t.type===h?Object(i.a)(Object(i.a)({},e),{},{user:t.payload}):t.type===p?Object(i.a)(Object(i.a)({},e),{},{isLoading:t.payload}):t.type===b?Object(i.a)(Object(i.a)({},e),{},{showToast:t.payload}):t.type===f?Object(i.a)(Object(i.a)({},e),{},{messageException:t.payload}):e}),Object(s.b)(Object(s.a)(o.a))));c.a.render(Object(W.jsx)(r.a,{store:oe,children:Object(W.jsx)(re,{})}),document.getElementById("root"))},82:function(e,t,n){var a={"./ion-action-sheet.entry.js":[122,5],"./ion-alert.entry.js":[123,6],"./ion-app_8.entry.js":[124,7],"./ion-avatar_3.entry.js":[125,17],"./ion-back-button.entry.js":[126,18],"./ion-backdrop.entry.js":[127,43],"./ion-button_2.entry.js":[128,19],"./ion-card_5.entry.js":[129,20],"./ion-checkbox.entry.js":[130,21],"./ion-chip.entry.js":[131,22],"./ion-col_3.entry.js":[132,44],"./ion-datetime_3.entry.js":[133,10],"./ion-fab_3.entry.js":[134,23],"./ion-img.entry.js":[135,45],"./ion-infinite-scroll_2.entry.js":[136,46],"./ion-input.entry.js":[137,24],"./ion-item-option_3.entry.js":[138,25],"./ion-item_8.entry.js":[139,26],"./ion-loading.entry.js":[140,27],"./ion-menu_3.entry.js":[141,28],"./ion-modal.entry.js":[142,8],"./ion-nav_2.entry.js":[143,14],"./ion-popover.entry.js":[144,9],"./ion-progress-bar.entry.js":[145,29],"./ion-radio_2.entry.js":[146,30],"./ion-range.entry.js":[147,31],"./ion-refresher_2.entry.js":[148,11],"./ion-reorder_2.entry.js":[149,16],"./ion-ripple-effect.entry.js":[150,47],"./ion-route_4.entry.js":[151,32],"./ion-searchbar.entry.js":[152,33],"./ion-segment_2.entry.js":[153,34],"./ion-select_3.entry.js":[154,35],"./ion-slide_2.entry.js":[155,48],"./ion-spinner.entry.js":[156,13],"./ion-split-pane.entry.js":[157,49],"./ion-tab-bar_2.entry.js":[158,36],"./ion-tab_2.entry.js":[159,15],"./ion-text.entry.js":[160,37],"./ion-textarea.entry.js":[161,38],"./ion-toast.entry.js":[162,39],"./ion-toggle.entry.js":[163,12],"./ion-virtual-scroll.entry.js":[164,50]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id=82,e.exports=c},84:function(e,t,n){var a={"./ion-icon.entry.js":[165,57]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id=84,e.exports=c}},[[120,3,4]]]);
//# sourceMappingURL=main.b7c15ecf.chunk.js.map